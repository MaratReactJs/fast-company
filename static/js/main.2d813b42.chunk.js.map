{"version":3,"sources":["redux/filter/slice.ts","redux/filter/type.ts","redux/filter/selectors.ts","redux/pizza/selectors.ts","pages/home.tsx","layouts/mainLayout.tsx","App.tsx","index.tsx","utils/calcTotalPrice.ts","redux/cart/slice.ts","utils/getCartFromLS.ts","redux/store.ts","components/Pagination/index.tsx","components/PizzaBlock/index.tsx","components/PizzaBlock/skeleton.tsx","assets/img/empty-cart.png","components/cartEmpty.tsx","components/cartItem.tsx","components/categories.tsx","components/sorting.tsx","components/Search/Search.module.scss","redux/cart/selectors.ts","components/Search/index.tsx","assets/img/pizza-logo.svg","components/header.tsx","redux/pizza/type.ts","redux/pizza/slice.ts","components/NotFoundBlock/NotFoundBlock.module.scss","components/NotFoundBlock/index.tsx","components/Pagination/Pagination.module.scss"],"names":["initialState","searchValue","categoryId","currentPage","sort","name","sortProperty","SortPropertyEnum","RATING_DESC","filterSlice","createSlice","reducers","setCategoryId","state","action","payload","setSearchValue","setSort","setCurrentPage","setFilters","Object","keys","length","Number","actions","selectFilter","selectPizzas","pizzasSlice","Home","useSelector","items","status","dispatch","useAppDispatch","navigate","useNavigate","urlParametr","useRef","firstRender","onChangeCategory","useCallback","idx","getPizzas","a","sortBy","replace","order","includes","category","search","fetchPizzas","window","scrollTo","useEffect","current","queryString","qs","stringify","location","params","parse","substring","sortList","find","obj","skeletons","Array","map","_","index","pizzas","key","id","className","value","onPageNumberChange","pageNumber","console","log","MainLayout","Cart","React","lazy","FullPizza","NotFound","Loadable","loader","loading","App","path","element","fallback","ReactDOM","render","store","document","getElementById","calcTotalPrice","reduce","sum","price","count","data","localStorage","getItem","JSON","totalPrice","getCartFromLS","cartSlice","addItem","findItem","push","minusItem","removeItem","filter","clearItem","configureStore","reducer","useDispatch","Pagination","styles","root","breakLabel","nextLabel","onPageChange","event","selected","pageRangeDisplayed","pageCount","forcePage","previousLabel","PizzaBlock","title","types","sizes","imageUrl","useState","activeType","setActiveType","activeSize","setActiveSize","pizzasType","cartItem","selectCartItemById","addedCount","to","src","alt","type","onClick","size","i","item","width","height","viewBox","fill","xmlns","d","Skeleton","speed","backgroundColor","foregroundColor","cx","cy","r","x","y","rx","ry","CartEmpty","cartEmptyImg","CartItem","useWhyDidYouUpdate","disabled","clsx","confirm","Categories","memo","categoryName","RATING_ASC","PRICE_DESC","PRICE_ASC","TITLE_DESC","TITLE_ASC","Sorting","open","setOpen","sortRef","handleClickOutside","composedPath","body","addEventListener","removeEventListener","ref","handleSelected","module","exports","selectCart","Search","setValue","inputRef","updateSearchValue","debounce","str","icon","enableBackground","version","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeWidth","x1","x2","y1","y2","input","placeholder","onChange","target","focus","clearIcon","points","Header","isMounted","json","setItem","totalItems","pathname","useLocation","logoSVG","Status","LOADING","createAsyncThunk","axios","get","setItems","extraReducers","builder","addCase","pending","fulfilled","SUCCESS","rejected","NotFoundBlock","spanNotF","description"],"mappings":"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","file":"static/js/main.2d813b42.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { FilterSliceStateType, SortPropertyEnum, SortType } from \"./type\";\r\n\r\n// начальное состояние (state) нашего фильтра\r\nconst initialState: FilterSliceStateType = {\r\n\tsearchValue: \"\",\r\n\tcategoryId: 0,\r\n\tcurrentPage: 1,\r\n\tsort: {\r\n\t\tname: \"популярности\",\r\n\t\tsortProperty: SortPropertyEnum.RATING_DESC,\r\n\t},\r\n};\r\n\r\n// В filterSlice - createSlice создаст slice где будет хранится логика обработки данных нашего state\r\nconst filterSlice = createSlice({\r\n\t// name нужен чтоб redux мог корректно задать определенную команду\r\n\tname: \"filter\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\t// изменение категории\r\n\t\tsetCategoryId(state, action: PayloadAction<number>) {\r\n\t\t\tstate.categoryId = action.payload;\r\n\t\t},\r\n\t\t// изменение в поле поиска\r\n\t\tsetSearchValue(state, action: PayloadAction<string>) {\r\n\t\t\tstate.searchValue = action.payload;\r\n\t\t},\r\n\t\t// изменение сортировки\r\n\t\tsetSort(state, action: PayloadAction<SortType>) {\r\n\t\t\tstate.sort = action.payload;\r\n\t\t},\r\n\t\t// изменение страницы\r\n\t\tsetCurrentPage(state, action: PayloadAction<number>) {\r\n\t\t\tstate.currentPage = action.payload;\r\n\t\t},\r\n\t\t// отправляются в qs, чтоб сохранить страницу с её фильтрами (страницей,сортировкой и категорией)\r\n\t\tsetFilters(state, action: PayloadAction<FilterSliceStateType>) {\r\n\t\t\tif (Object.keys(action.payload).length) {\r\n\t\t\t\tstate.currentPage = Number(action.payload.currentPage);\r\n\t\t\t\tstate.sort = action.payload.sort;\r\n\t\t\t\tstate.categoryId = Number(action.payload.categoryId);\r\n\t\t\t} else {\r\n\t\t\t\tstate.currentPage = 1;\r\n\t\t\t\tstate.categoryId = 0;\r\n\t\t\t\tstate.sort = {\r\n\t\t\t\t\tname: \"популярности\",\r\n\t\t\t\t\tsortProperty: SortPropertyEnum.RATING_DESC,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const {\r\n\tsetCategoryId,\r\n\tsetSort,\r\n\tsetCurrentPage,\r\n\tsetFilters,\r\n\tsetSearchValue,\r\n} = filterSlice.actions;\r\n\r\nexport default filterSlice.reducer;\r\n","export enum SortPropertyEnum {\r\n\tRATING_DESC = \"rating\",\r\n\tRATING_ASC = \"-rating\",\r\n\tPRICE_DESC = \"price\",\r\n\tPRICE_ASC = \"-price\",\r\n\tTITLE_DESC = \"title\",\r\n\tTITLE_ASC = \"-title\",\r\n}\r\n\r\nexport type SortType = {\r\n\tname: string;\r\n\tsortProperty: SortPropertyEnum;\r\n};\r\n\r\nexport interface FilterSliceStateType {\r\n\tsearchValue: string;\r\n\tcategoryId: number;\r\n\tcurrentPage: number;\r\n\tsort: SortType;\r\n}\r\n","import { RootState } from \"../store\";\r\n\r\n// селектор экспортирует текущую сортировку\r\nexport const selectSort = (state: RootState) => state.filterSlice.sort;\r\n// селектор экспортирует все данные из filterSlice\r\nexport const selectFilter = (state: RootState) => state.filterSlice;\r\n","import { RootState } from \"../store\";\r\n\r\n// селектор для получения пицц и их статусы получения\r\nexport const selectPizzas = (state: RootState) => state.pizzasSlice;\r\n\r\n// actions это  reducers, не знаю зачем переименуется здесь, Арчаков сам не знает\r\n","import React, { useCallback, useEffect, useRef } from \"react\";\r\nimport qs from \"qs\"; // для сохранения ссылок на страницу\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n\tsetCategoryId,\r\n\tsetCurrentPage,\r\n\tsetFilters,\r\n} from \"../redux/filter/slice\";\r\nimport { fetchPizzas } from \"../redux/pizza/slice\";\r\nimport {\r\n\tPizzaBlock,\r\n\tCategories,\r\n\tSkeleton,\r\n\tPagination,\r\n\tSorting,\r\n} from \"../components\";\r\nimport { useAppDispatch } from \"../redux/store\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectFilter } from \"../redux/filter/selectors\";\r\nimport { selectPizzas } from \"../redux/pizza/selectors\";\r\nimport { FetchPizzasArgsType } from \"../redux/pizza/type\";\r\nimport { sortList } from \"../components/sorting\";\r\n\r\nconst Home: React.FC = () => {\r\n\tconst { categoryId, sort, currentPage, searchValue } =\r\n\t\tuseSelector(selectFilter);\r\n\tconst { items, status } = useSelector(selectPizzas);\r\n\t// useSelector вытаскивает данные из хранилища\r\n\t// useDispatch говорит сделай что-то\r\n\tconst dispatch = useAppDispatch();\r\n\tconst navigate = useNavigate();\r\n\tconst urlParametr = useRef(false); // для того чтобы показать есть ли сохранненые параметры страницы или нет\r\n\tconst firstRender = useRef(false); // для того чтобы знать когда был первый рендер страницы\r\n\r\n\t// функция изменения категории, она каждый раз пересоздается когда компонент делает перерисовку\r\n\tconst onChangeCategory = useCallback((idx: number) => {\r\n\t\tdispatch(setCategoryId(idx));\r\n\t\tdispatch(setCurrentPage(1));\r\n\t}, []);\r\n\t// функция изменения номера страницы\r\n\tconst onPageNumberChange = (pageNumber: number) => {\r\n\t\tconsole.log(pageNumber);\r\n\t\tdispatch(setCurrentPage(pageNumber));\r\n\t};\r\n\r\n\tconst getPizzas = async () => {\r\n\t\t// для начала корректируем данные\r\n\t\tconst sortBy = sort.sortProperty.replace(\"-\", \"\");\r\n\t\tconst order = sort.sortProperty.includes(\"-\") ? \"asc\" : \"desc\";\r\n\t\tconst category = categoryId > 0 ? `category=${categoryId}` : \"\";\r\n\t\tconst search = searchValue ? `search=${searchValue}` : \"\";\r\n\t\t//теперь эти данные вставляем в функцию\r\n\t\tdispatch(fetchPizzas({ sortBy, order, category, search, currentPage }));\r\n\t\twindow.scrollTo(0, 0);\r\n\t};\r\n\r\n\t//Если изменили параметры и был первый рендер, вшивает в адресную строчку URL-параметры\r\n\tuseEffect(() => {\r\n\t\tif (firstRender.current) {\r\n\t\t\tconst queryString = qs.stringify({\r\n\t\t\t\tsortProperty: sort.sortProperty,\r\n\t\t\t\tcategoryId,\r\n\t\t\t\tcurrentPage,\r\n\t\t\t});\r\n\t\t\tnavigate(`/?${queryString}`);\r\n\t\t}\r\n\t\tfirstRender.current = true;\r\n\t}, [categoryId, sort.sortProperty, searchValue, currentPage]);\r\n\r\n\t// Если нет URL-параметров, обновляет данные при первом рендере или при изменение параметров\r\n\tuseEffect(() => {\r\n\t\tif (!urlParametr.current) {\r\n\t\t\tgetPizzas();\r\n\t\t}\r\n\t\turlParametr.current = false;\r\n\t}, [categoryId, sort.sortProperty, searchValue, currentPage]);\r\n\r\n\t// При первом рендере проверяет URL-параметры и сохраняет в redux тоесть парсит\r\n\tuseEffect(() => {\r\n\t\tif (window.location.search) {\r\n\t\t\tconst params = qs.parse(\r\n\t\t\t\twindow.location.search.substring(1)\r\n\t\t\t) as unknown as FetchPizzasArgsType;\r\n\r\n\t\t\tconst sort = sortList.find((obj) => obj.sortProperty === params.sortBy);\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tsetFilters({\r\n\t\t\t\t\tsearchValue: params.search,\r\n\t\t\t\t\tcategoryId: Number(params.category),\r\n\t\t\t\t\tcurrentPage: Number(params.currentPage),\r\n\t\t\t\t\tsort: sort || sortList[0],\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\turlParametr.current = true;\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst skeletons = [...new Array(6)].map((_, index) => (\r\n\t\t<Skeleton key={index} />\r\n\t));\r\n\tconst pizzas = items.map((obj: any) => (\r\n\t\t<PizzaBlock {...obj} key={obj.id}></PizzaBlock>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"content__top\">\r\n\t\t\t\t<Categories value={categoryId} onChangeCategory={onChangeCategory} />\r\n\t\t\t\t<Sorting value={sort} />\r\n\t\t\t</div>\r\n\t\t\t<h2 className=\"content__title\">Все пиццы</h2>\r\n\t\t\t{status === \"error\" ? (\r\n\t\t\t\t<div className=\"content_error-info\">\r\n\t\t\t\t\t<h2>Произошла ошибка {/* <icon></icon> */}</h2>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tК сожалению не удалось получить питсы. Поробуйте повторить попытку\r\n\t\t\t\t\t\tпозже\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"content__items\">\r\n\t\t\t\t\t{status === \"loading\" ? skeletons : pizzas}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\tonPageNumberChange={onPageNumberChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nimport Header from \"../components/header\";\r\n\r\n// создали для того чтобы вынести разметку из  App.tsx\r\nconst MainLayout: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"wrapper\">\r\n\t\t\t<Header />\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t<Outlet />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MainLayout;\r\n","import { Routes, Route } from \"react-router-dom\";\r\nimport React, { Suspense } from \"react\";\r\nimport Loadable from \"react-loadable\"; // для нее отдельно скачиваются типы install @types/react-loadable\r\n\r\nimport Home from \"./pages/home\";\r\n//import Cart from \"./pages/cart\";\r\n//import FullPizza from \"./pages/fullPizza\";\r\n// import NotFound from \"./pages/notFound\";\r\n\r\nimport \"./scss/app.scss\";\r\nimport MainLayout from \"./layouts/mainLayout\";\r\n\r\n// React Lazy код сплитинг(разделение кода)для браузера а Реакт Loadable для сервера и браузера\r\n// Lazy не работает с обычными импортами только с default\r\nconst Cart = React.lazy(\r\n\t() => import(/* webpackChunkName:\"Cart\" */ \"./pages/cart\")\r\n); // Реакт Lazy будет подгружать этот компонент отдельно от всего бандла, только тогда когда он будет нужен\r\nconst FullPizza = React.lazy(\r\n\t() => import(/* webpackChunkName:\"FullPizza\" */ \"./pages/fullPizza\")\r\n);\r\n//const NotFound = React.lazy(() => import(/* webpackChunkName:\"NotFound\" */ \"./pages/notFound\"));\r\nconst NotFound = Loadable({\r\n\tloader: () => import(/* webpackChunkName:\"NotFound\" */ \"./pages/notFound\"),\r\n\tloading: () => <div>Идет загрузка страницы...</div>,\r\n});\r\nconst App = () => {\r\n\treturn (\r\n\t\t<Routes>\r\n\t\t\t<Route path=\"/\" element={<MainLayout />}>\r\n\t\t\t\t<Route path=\"/\" element={<Home />} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"/cart\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Suspense fallback={<div>Идет загрузка страницы...</div>}>\r\n\t\t\t\t\t\t\t<Cart />\r\n\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"/pizza/:id\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Suspense fallback={<div>Идет загрузка страницы...</div>}>\r\n\t\t\t\t\t\t\t<FullPizza />\r\n\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route path=\"*\" element={<NotFound />} />\r\n\t\t\t</Route>\r\n\t\t</Routes>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n\t<HashRouter>\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</HashRouter>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n","import { CartItemType } from \"./../redux/cart/type\";\r\n//вынесли функцию общей суммы\r\nexport const calcTotalPrice = (items: CartItemType[]) => {\r\n\treturn items.reduce((sum, obj) => sum + obj.price * obj.count, 0);\r\n};\r\n","import { calcTotalPrice } from \"./../../utils/calcTotalPrice\";\r\nimport { getCartFromLS } from \"./../../utils/getCartFromLS\";\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { CartItemType, CartSliceStateType } from \"./type\";\r\n\r\nconst { items, totalPrice } = getCartFromLS();\r\n\r\n// начальное состояние (state) итоговой цены и колличества шт в корзине\r\nconst initialState: CartSliceStateType = {\r\n\ttotalPrice,\r\n\titems,\r\n};\r\n\r\n// В cartSlice - createSlice создаст slice где будет хранится логика обработки данных нашего state\r\nconst cartSlice = createSlice({\r\n\t// name нужен чтоб redux мог корректно задать определенную команду\r\n\tname: \"cart\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\t// увеличивает  на 1 count пиццы  внутри корзины\r\n\t\taddItem(state, action: PayloadAction<CartItemType>) {\r\n\t\t\tconst findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n\t\t\tif (findItem) {\r\n\t\t\t\tfindItem.count++;\r\n\t\t\t} else {\r\n\t\t\t\tstate.items.push({\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tstate.totalPrice = calcTotalPrice(state.items);\r\n\t\t},\r\n\r\n\t\t// уменьшает  на 1 count пиццы  внутри корзины\r\n\t\tminusItem(state, action: PayloadAction<CartItemType>) {\r\n\t\t\t// тип string так как мы передаем только id\r\n\t\t\tconst findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n\r\n\t\t\tif (findItem && findItem.count > 0) {\r\n\t\t\t\tfindItem.count--;\r\n\t\t\t\tstate.totalPrice -= findItem.price;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// удаляет пиццу  из корзины\r\n\t\tremoveItem(state, action: PayloadAction<string>) {\r\n\t\t\tstate.items = state.items.filter((obj) => obj.id !== action.payload);\r\n\t\t},\r\n\t\t//удаляет все пиццы  из корзины\r\n\t\tclearItem(state) {\r\n\t\t\tstate.items = [];\r\n\t\t\tstate.totalPrice = 0;\r\n\t\t},\r\n\t},\r\n});\r\n\r\n// actions это  reducers, не знаю зачем переименуется здесь, Арчаков сам не знает\r\nexport const { addItem, removeItem, minusItem, clearItem } = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;\r\n","import { calcTotalPrice } from \"./calcTotalPrice\";\r\n// получаем пиццы из LS и эту функцию распакуем в redux\r\nexport const getCartFromLS = () => {\r\n\tconst data = localStorage.getItem(\"cart\");\r\n\tconst items = data ? JSON.parse(data) : [];\r\n\tconst totalPrice = calcTotalPrice(items);\r\n\r\n\treturn { items, totalPrice };\r\n};\r\n","import { useDispatch } from \"react-redux\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport filterSlice from \"./filter/slice\";\r\nimport cartSlice from \"./cart/slice\";\r\nimport pizzasSlice from \"./pizza/slice\";\r\n\r\nexport const store = configureStore({\r\n\treducer: {\r\n\t\tfilterSlice,\r\n\t\tcartSlice,\r\n\t\tpizzasSlice,\r\n\t},\r\n});\r\n\r\n// фнкция getState вытаскивает весь store, это функция со всеми типами всех slice\r\n// ReturnType получает любую функцию и её содержимое превращает в тип, т.е. из функции с типами вытаскивает типы\r\n// в итоге мы получаем все типы из store\r\n// Теперь внутри RootState хранятся все типы slice\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport const useAppDispatch: () => AppDispatch = useDispatch;\r\n","import React from \"react\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\nimport styles from \"./Pagination.module.scss\";\r\n\r\ntype PaginationProps = {\r\n\tcurrentPage: number;\r\n\tonPageNumberChange: (page: number) => void;\r\n};\r\nconst Pagination: React.FC<PaginationProps> = ({\r\n\tcurrentPage,\r\n\tonPageNumberChange,\r\n}) => (\r\n\t<ReactPaginate\r\n\t\tclassName={styles.root}\r\n\t\tbreakLabel=\"...\"\r\n\t\tnextLabel=\">\"\r\n\t\tonPageChange={(event) => onPageNumberChange(event.selected + 1)}\r\n\t\tpageRangeDisplayed={4}\r\n\t\tpageCount={3}\r\n\t\tforcePage={currentPage - 1}\r\n\t\tpreviousLabel=\"<\"\r\n\t/>\r\n);\r\n\r\nexport default Pagination;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addItem } from \"../../redux/cart/slice\";\r\nimport { selectCartItemById } from \"../../redux/cart/selectors\";\r\n\r\ntype PizzaBlockProps = {\r\n\tid: string;\r\n\ttitle: string;\r\n\ttypes: number[];\r\n\tprice: number;\r\n\timageUrl: string;\r\n\tsizes: number[];\r\n};\r\n\r\nconst PizzaBlock: React.FC<PizzaBlockProps> = ({\r\n\tid,\r\n\ttitle,\r\n\tprice,\r\n\ttypes,\r\n\tsizes,\r\n\timageUrl,\r\n}) => {\r\n\tconst [activeType, setActiveType] = useState<number>(0); // выбор пиццы тонкая или традиционная\r\n\tconst [activeSize, setActiveSize] = useState<number>(0); //выбор размерам пиццы 26 30 40\r\n\tconst pizzasType = [\"тонкое\", \"традиционное\"];\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst cartItem = useSelector(selectCartItemById(id)); // добавленная пицца в корзину\r\n\r\n\tconst addedCount = cartItem ? cartItem.count : 0; // добавление счетчика в кнопку добавить. По умолчанию его нет\r\n\r\n\tconst onClickAdd = () => {\r\n\t\tconst item = {\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tprice,\r\n\t\t\timageUrl,\r\n\t\t\ttypes: pizzasType[activeType],\r\n\t\t\tsizes: sizes[activeSize], //sizes получаем с бэка\r\n\t\t\tcount: 0,\r\n\t\t};\r\n\t\tdispatch(addItem(item));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"pizza-block-wrapper\">\r\n\t\t\t<div className=\"pizza-block\">\r\n\t\t\t\t<Link to={`pizza/${id}`}>\r\n\t\t\t\t\t<img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n\t\t\t\t\t<h4 className=\"pizza-block__title\">{title}</h4>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<div className=\"pizza-block__selector\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{types.map((type) => (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetActiveType(type);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={activeType === type ? \"active\" : \"\"}\r\n\t\t\t\t\t\t\t\tkey={type}>\r\n\t\t\t\t\t\t\t\t{pizzasType[type]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{sizes.map((size, i) => (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetActiveSize(i);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={activeSize === i ? \"active\" : \"\"}\r\n\t\t\t\t\t\t\t\tkey={i}>\r\n\t\t\t\t\t\t\t\t{size} см.\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"pizza-block__bottom\">\r\n\t\t\t\t\t<div className=\"pizza-block__price\">{price} ₽</div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button--outline button--add\"\r\n\t\t\t\t\t\tonClick={onClickAdd}>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\twidth=\"12\"\r\n\t\t\t\t\t\t\theight=\"12\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 12 12\"\r\n\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n\t\t\t\t\t\t\t\tfill=\"white\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span>Добавить</span>\r\n\t\t\t\t\t\t{addedCount > 0 && <i>{addedCount}</i>}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PizzaBlock;\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\n// Скелетон срабатывает во время ожидания пиццы\r\nconst Skeleton: React.FC = () => (\r\n\t<ContentLoader\r\n\t\tclassName=\"pizzaBlock\"\r\n\t\tspeed={2}\r\n\t\twidth={280}\r\n\t\theight={500}\r\n\t\tviewBox=\"0 0 280 500\"\r\n\t\tbackgroundColor=\"#f3f3f3\"\r\n\t\tforegroundColor=\"#ecebeb\">\r\n\t\t<circle cx=\"134\" cy=\"136\" r=\"125\" />\r\n\t\t<rect x=\"0\" y=\"279\" rx=\"10\" ry=\"10\" width=\"280\" height=\"23\" />\r\n\t\t<rect x=\"0\" y=\"326\" rx=\"10\" ry=\"10\" width=\"280\" height=\"88\" />\r\n\t\t<rect x=\"0\" y=\"436\" rx=\"10\" ry=\"10\" width=\"95\" height=\"30\" />\r\n\t\t<rect x=\"125\" y=\"427\" rx=\"24\" ry=\"24\" width=\"152\" height=\"45\" />\r\n\t</ContentLoader>\r\n);\r\n\r\nexport default Skeleton;\r\n","export default __webpack_public_path__ + \"static/media/empty-cart.db905d1f.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport cartEmptyImg from \"../assets/img/empty-cart.png\";\r\n\r\nconst CartEmpty: React.FC = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"cart cart--empty\">\r\n\t\t\t\t<h2>\r\n\t\t\t\t\tКорзина пустая <span>😄</span>{\" \"}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tВероятней всего, вы не заказывали ещё пиццу.\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\tДля того, чтобы заказать пиццу, перейди на главную страницу.\r\n\t\t\t\t</p>\r\n\t\t\t\t<img src={cartEmptyImg} alt=\"emptyCard\" />\r\n\t\t\t\t<Link to=\"/\" className=\"button button--black\">\r\n\t\t\t\t\t<span>Вернуться назад</span>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CartEmpty;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { useWhyDidYouUpdate } from \"use-why-did-you-update\";\r\n\r\nimport { addItem, minusItem, removeItem } from \"../redux/cart/slice\";\r\nimport { useAppDispatch } from \"../redux/store\";\r\nimport { CartItemType } from \"../redux/cart/type\";\r\n\r\nexport type CartItemProps = {\r\n\tid: string;\r\n\ttitle: string;\r\n\tprice: number;\r\n\tcount: number;\r\n\timageUrl: string;\r\n\ttypes: string;\r\n\tsizes: number;\r\n};\r\n\r\nconst CartItem: React.FC<CartItemProps> = ({\r\n\tid,\r\n\ttitle,\r\n\ttypes,\r\n\tprice,\r\n\tcount,\r\n\timageUrl,\r\n\tsizes,\r\n}) => {\r\n\tconst dispatch = useAppDispatch();\r\n\r\n\tuseWhyDidYouUpdate(\"CartItem\", {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\ttypes,\r\n\t\tprice,\r\n\t\tcount,\r\n\t\timageUrl,\r\n\t\tsizes,\r\n\t});\r\n\r\n\t// удаление позиции из корзины\r\n\tconst onClickRemove = () => {\r\n\t\tif (window.confirm(\"Ты действительно хочешь удалить товар\")) {\r\n\t\t\tdispatch(removeItem(id));\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"cart__item\">\r\n\t\t\t<div className=\"cart__item-img\">\r\n\t\t\t\t<img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"cart__item-info\">\r\n\t\t\t\t<h3>{title}</h3>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{types}, {sizes} см.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"cart__item-count\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={count === 1}\r\n\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\"button button--outline button--circle cart__item-count-minus\",\r\n\t\t\t\t\t\t{ \"cart__item-count-minus-disabled\": count === 1 }\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tonClick={() => dispatch(minusItem({ id } as CartItemType))}>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\twidth=\"10\"\r\n\t\t\t\t\t\theight=\"10\"\r\n\t\t\t\t\t\tviewBox=\"0 0 10 10\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n\t\t\t\t\t\t\tfill=\"#EB5A1E\"></path>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n\t\t\t\t\t\t\tfill=\"#EB5A1E\"></path>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<b>{count}</b>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"button button--outline button--circle cart__item-count-plus\"\r\n\t\t\t\t\tonClick={() => dispatch(addItem({ id } as CartItemType))}>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\twidth=\"10\"\r\n\t\t\t\t\t\theight=\"10\"\r\n\t\t\t\t\t\tviewBox=\"0 0 10 10\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n\t\t\t\t\t\t\tfill=\"#EB5A1E\"></path>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n\t\t\t\t\t\t\tfill=\"#EB5A1E\"></path>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"cart__item-price\">\r\n\t\t\t\t<b>{price * count} ₽</b>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"cart__item-remove\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"button button--outline button--circle\"\r\n\t\t\t\t\tonClick={() => onClickRemove()}>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\twidth=\"10\"\r\n\t\t\t\t\t\theight=\"10\"\r\n\t\t\t\t\t\tviewBox=\"0 0 10 10\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n\t\t\t\t\t\t\tfill=\"#EB5A1E\"></path>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n\t\t\t\t\t\t\tfill=\"#EB5A1E\"></path>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { memo } from \"react\";\r\n\r\ntype CategoriesProps = {\r\n\tvalue: number;\r\n\tonChangeCategory: (idx: number) => void;\r\n};\r\n\r\nconst Categories: React.FC<CategoriesProps> = memo(\r\n\t({ value, onChangeCategory }) => {\r\n\t\tconst categories = [\r\n\t\t\t\"Все\",\r\n\t\t\t\"Мясные\",\r\n\t\t\t\"Вегетарианская\",\r\n\t\t\t\"Гриль\",\r\n\t\t\t\"Острые\",\r\n\t\t\t\"Закрытые\",\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"categories\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{categories.map((categoryName, idx) => (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tonChangeCategory(idx);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={value === idx ? \"active\" : \"\"}\r\n\t\t\t\t\t\t\tkey={idx}>\r\n\t\t\t\t\t\t\t{categoryName}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default Categories;\r\n","import React, { memo, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux/es/exports\";\r\nimport { setSort } from \"../redux/filter/slice\";\r\nimport { SortPropertyEnum, SortType } from \"../redux/filter/type\";\r\n\r\ntype SortingProps = {\r\n\tvalue: SortType;\r\n};\r\n\r\nexport const sortList: SortType[] = [\r\n\t// с помощью минуса создаем уникальность\r\n\t{ name: \"популярности (DESC)\", sortProperty: SortPropertyEnum.RATING_DESC },\r\n\t{ name: \"популярности (ASC)\", sortProperty: SortPropertyEnum.RATING_ASC },\r\n\t{ name: \"цене (DESC)\", sortProperty: SortPropertyEnum.PRICE_DESC },\r\n\t{ name: \"цене (ASC)\", sortProperty: SortPropertyEnum.PRICE_ASC },\r\n\t{ name: \"алфавиту (DESC)\", sortProperty: SortPropertyEnum.TITLE_DESC },\r\n\t{ name: \"алфавиту (ASC)\", sortProperty: SortPropertyEnum.TITLE_ASC },\r\n];\r\n\r\nconst Sorting: React.FC<SortingProps> = memo(({ value }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [open, setOpen] = useState(false); // открыт ли popup или нет\r\n\tconst sortRef = useRef<HTMLDivElement>(null);\r\n\r\n\t//закрытие popup при клике на другую область\r\n\tuseEffect(() => {\r\n\t\tconst handleClickOutside = (event: MouseEvent) => {\r\n\t\t\tif (\r\n\t\t\t\tsortRef.current &&\r\n\t\t\t\t!event.composedPath().includes(sortRef.current) &&\r\n\t\t\t\t!open\r\n\t\t\t) {\r\n\t\t\t\tsetOpen(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\tdocument.body.addEventListener(\"click\", handleClickOutside);\r\n\t\treturn () => document.body.removeEventListener(\"click\", handleClickOutside);\r\n\t}, []);\r\n\r\n\t// функция выбора свойства сортировки\r\n\tconst handleSelected = (obj: SortType) => {\r\n\t\tconsole.log(obj);\r\n\t\tdispatch(setSort(obj));\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div ref={sortRef} className=\"sort\">\r\n\t\t\t<div className=\"sort__label\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\twidth=\"10\"\r\n\t\t\t\t\theight=\"6\"\r\n\t\t\t\t\tviewBox=\"0 0 10 6\"\r\n\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n\t\t\t\t\t\tfill=\"#2C2C2C\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t\t<b>Сортировка по:</b>\r\n\t\t\t\t<span onClick={() => setOpen(!open)}>{value.name}</span>\r\n\t\t\t</div>\r\n\t\t\t{open && (\r\n\t\t\t\t<div className=\"sort__popup\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{sortList.map((obj, i) => (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleSelected(obj);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tvalue.sortProperty === obj.sortProperty ? \"active\" : \"\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={i}>\r\n\t\t\t\t\t\t\t\t{obj.name}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nexport default Sorting;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Search_root__1z6jT\",\"input\":\"Search_input__53uBT\",\"icon\":\"Search_icon__MmH0b\",\"clearIcon\":\"Search_clearIcon__LFnIR\"};","import { RootState } from \"../store\";\r\n\r\n// селектор экспортирует все данные из cartSlice мы их получаем из store.tsx\r\nexport const selectCart = (state: RootState) => state.cartSlice;\r\n\r\n// селектор экспортрует добавленную пиццу в корзину\r\nexport const selectCartItemById = (id: string) => (state: RootState) =>\r\n\tstate.cartSlice.items.find((obj) => obj.id === id);\r\n","import React, { useCallback, useRef, useState } from \"react\";\r\nimport debounce from \"lodash.debounce\";\r\nimport styles from \"./Search.module.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setSearchValue } from \"../../redux/filter/slice\";\r\n\r\nconst Search: React.FC = () => {\r\n\tconst [value, setValue] = useState(\"\"); // значение поля поиска\r\n\r\n\tconst inputRef = useRef<HTMLInputElement>(null); // чтоб прикрепить к полю поиска фокус\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onClickClear = () => {\r\n\t\tdispatch(setSearchValue(\"\")); //state для поля поиска\r\n\t\tsetValue(\"\");\r\n\t\tinputRef.current?.focus();\r\n\t};\r\n\r\n\tconst updateSearchValue = useCallback(\r\n\t\tdebounce((str) => {\r\n\t\t\t// debounce нужен чтоб назначить тайм-аут, чтоб поиск не срабатывал сразу после ввода значения и чтоб не было частых запросов к базе данных\r\n\t\t\tdispatch(setSearchValue(str));\r\n\t\t}, 300),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetValue(event.target.value);\r\n\t\tupdateSearchValue(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<svg\r\n\t\t\t\tclassName={styles.icon}\r\n\t\t\t\tenableBackground=\"new 0 0 32 32\"\r\n\t\t\t\tid=\"Editable-line\"\r\n\t\t\t\tversion=\"1.1\"\r\n\t\t\t\tviewBox=\"0 0 32 32\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<circle\r\n\t\t\t\t\tcx=\"14\"\r\n\t\t\t\t\tcy=\"14\"\r\n\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\tid=\"XMLID_42_\"\r\n\t\t\t\t\tr=\"9\"\r\n\t\t\t\t\tstroke=\"#000000\"\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\tstrokeMiterlimit=\"10\"\r\n\t\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\t/>\r\n\t\t\t\t<line\r\n\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\tid=\"XMLID_44_\"\r\n\t\t\t\t\tstroke=\"#000000\"\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\tstrokeMiterlimit=\"10\"\r\n\t\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\t\tx1=\"27\"\r\n\t\t\t\t\tx2=\"20.366\"\r\n\t\t\t\t\ty1=\"27\"\r\n\t\t\t\t\ty2=\"20.366\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\r\n\t\t\t<input\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\tclassName={styles.input}\r\n\t\t\t\tplaceholder=\"Поиск пиццы...\"\r\n\t\t\t\tonChange={onChangeInput}\r\n\t\t\t/>\r\n\t\t\t{value && (\r\n\t\t\t\t<svg\r\n\t\t\t\t\tonClick={onClickClear}\r\n\t\t\t\t\tclassName={styles.clearIcon}\r\n\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\tviewBox=\"0 0 50 50\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t<g id=\"Layer_1\">\r\n\t\t\t\t\t\t<polygon points=\"2.707,48.707 25,26.414 47.293,48.707 48.707,47.293 26.414,25 48.707,2.707 47.293,1.293 25,23.586 2.707,1.293    1.293,2.707 23.586,25 1.293,47.293  \" />\r\n\t\t\t\t\t</g>\r\n\t\t\t\t\t<g />\r\n\t\t\t\t</svg>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Search;\r\n","export default __webpack_public_path__ + \"static/media/pizza-logo.56ac8703.svg\";","import React, { useEffect, useRef } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectCart } from \"../redux/cart/selectors\";\r\nimport logoSVG from \"../assets/img/pizza-logo.svg\";\r\nimport Search from \"./Search\";\r\n\r\nconst Header: React.FC = () => {\r\n\tconst { items, totalPrice } = useSelector(selectCart); // вытаскиваем пиццы и сумму этих пицц из корзины\r\n\tconst isMounted = useRef(false);\r\n\r\n\t// при первом рендере проверяем есть ли пиццы в LS, если нет то закидываем их туда\r\n\tuseEffect(() => {\r\n\t\tif (isMounted.current) {\r\n\t\t\tconst json = JSON.stringify(items);\r\n\t\t\tlocalStorage.setItem(\"cart\", json);\r\n\t\t}\r\n\t\tisMounted.current = true;\r\n\t}, [items]);\r\n\r\n\tconst totalItems = items.reduce(\r\n\t\t(sum: number, item: any) => sum + item.count,\r\n\t\t0\r\n\t); // общее количество в корзине\r\n\tconst { pathname } = useLocation(); // чтоб знать перешли ли мы в корзину\r\n\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<div className=\"header__logo\">\r\n\t\t\t\t\t\t<img width=\"38\" src={logoSVG} alt=\"Pizza logo\" />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h1>React Pizza</h1>\r\n\t\t\t\t\t\t\t<p>самая вкусная пицца во вселенной</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t{pathname !== \"/cart\" && <Search />}\r\n\t\t\t\t<div className=\"header__cart\">\r\n\t\t\t\t\t{pathname !== \"/cart\" && (\r\n\t\t\t\t\t\t<Link to=\"/cart\" className=\"button button--cart\">\r\n\t\t\t\t\t\t\t<span>{totalPrice} ₽</span>\r\n\t\t\t\t\t\t\t<div className=\"button__delimiter\"></div>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\twidth=\"18\"\r\n\t\t\t\t\t\t\t\theight=\"18\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 18 18\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M6.33333 16.3333C7.06971 16.3333 7.66667 15.7364 7.66667 15C7.66667 14.2636 7.06971 13.6667 6.33333 13.6667C5.59695 13.6667 5 14.2636 5 15C5 15.7364 5.59695 16.3333 6.33333 16.3333Z\"\r\n\t\t\t\t\t\t\t\t\tstroke=\"white\"\r\n\t\t\t\t\t\t\t\t\tstrokeWidth=\"1.8\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M14.3333 16.3333C15.0697 16.3333 15.6667 15.7364 15.6667 15C15.6667 14.2636 15.0697 13.6667 14.3333 13.6667C13.597 13.6667 13 14.2636 13 15C13 15.7364 13.597 16.3333 14.3333 16.3333Z\"\r\n\t\t\t\t\t\t\t\t\tstroke=\"white\"\r\n\t\t\t\t\t\t\t\t\tstrokeWidth=\"1.8\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M4.78002 4.99999H16.3334L15.2134 10.5933C15.1524 10.9003 14.9854 11.176 14.7417 11.3722C14.4979 11.5684 14.1929 11.6727 13.88 11.6667H6.83335C6.50781 11.6694 6.1925 11.553 5.94689 11.3393C5.70128 11.1256 5.54233 10.8295 5.50002 10.5067L4.48669 2.82666C4.44466 2.50615 4.28764 2.21182 4.04482 1.99844C3.80201 1.78505 3.48994 1.66715 3.16669 1.66666H1.66669\"\r\n\t\t\t\t\t\t\t\t\tstroke=\"white\"\r\n\t\t\t\t\t\t\t\t\tstrokeWidth=\"1.8\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<span>{totalItems}</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","export type FetchPizzasArgsType = {\r\n\t// можно сократить код если знаешь что все свойства будут одинаковые Record <string,string> или Record <string,number> или Record <number,string>\r\n\tsortBy: string;\r\n\torder: string;\r\n\tcategory: string;\r\n\tsearch: string;\r\n\tcurrentPage: number;\r\n};\r\n\r\nexport type PizzaType = {\r\n\tid: string;\r\n\ttitle: string;\r\n\tprice: number;\r\n\timageUrl: string;\r\n\tsizes: number[];\r\n\ttypes: number[];\r\n\trating: number;\r\n};\r\n\r\n// enum тайпскриптовая фишка\r\nexport enum Status {\r\n\tLOADING = \"loading\",\r\n\tSUCCESS = \"success\",\r\n\tERROR = \"error\",\r\n}\r\n\r\nexport interface PizzaSliceStateType {\r\n\titems: PizzaType[];\r\n\tstatus: Status;\r\n}\r\n","import { RootState } from \"./../store\";\r\nimport { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport {\r\n\tFetchPizzasArgsType,\r\n\tPizzaSliceStateType,\r\n\tPizzaType,\r\n\tStatus,\r\n} from \"./type\";\r\n\r\n// начальное состояние (state) пицц и их статус получения\r\nconst initialState: PizzaSliceStateType = {\r\n\titems: [],\r\n\tstatus: Status.LOADING,\r\n};\r\n\r\n// Redux не умеет работать в асинхронном режиме поэтому обработать запрос на поможет createAsyncThunk\r\nexport const fetchPizzas = createAsyncThunk<PizzaType[], FetchPizzasArgsType>(\r\n\t\"pizza/fetchPizzasStatus\",\r\n\t// можно было так сделать params:Record <string,string>\r\n\tasync (params) => {\r\n\t\tconst { sortBy, order, category, search, currentPage } = params;\r\n\t\tconst { data } = await axios.get(\r\n\t\t\t`https://628baebb667aea3a3e34800b.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}&${search}`\r\n\t\t);\r\n\t\treturn data; // можно было написать data:PizzaType[]\r\n\t}\r\n);\r\n\r\n// В pizzasSlice - createSlice создаст slice где будет хранится логика обработки данных нашего state\r\nconst pizzasSlice = createSlice({\r\n\t// name нужен чтоб redux мог корректно задать определенную команду\r\n\tname: \"pizza\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tsetItems(state, action: PayloadAction<PizzaType[]>) {\r\n\t\t\tstate.items = action.payload;\r\n\t\t},\r\n\t},\r\n\r\n\textraReducers: (builder) => {\r\n\t\tbuilder.addCase(fetchPizzas.pending, (state) => {\r\n\t\t\tstate.status = Status.LOADING;\r\n\t\t\tstate.items = [];\r\n\t\t});\r\n\t\tbuilder.addCase(fetchPizzas.fulfilled, (state, action) => {\r\n\t\t\tstate.items = action.payload;\r\n\t\t\tstate.status = Status.SUCCESS;\r\n\t\t});\r\n\t\tbuilder.addCase(fetchPizzas.rejected, (state) => {\r\n\t\t\tstate.status = Status.SUCCESS;\r\n\t\t\tstate.items = [];\r\n\t\t});\r\n\t},\r\n});\r\n\r\nexport const { setItems } = pizzasSlice.actions;\r\n\r\nexport default pizzasSlice.reducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NotFoundBlock_root__EzAM8\",\"spanNotF\":\"NotFoundBlock_spanNotF__3Q6vK\",\"description\":\"NotFoundBlock_description__1IjEO\"};","import React from \"react\";\r\n\r\nimport styles from \"./NotFoundBlock.module.scss\";\r\n\r\nconst NotFoundBlock: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<h1>\r\n\t\t\t\t<span className={styles.spanNotF}>😕</span>\r\n\t\t\t\t<br />\r\n\t\t\t\tНичего не найдено\r\n\t\t\t</h1>\r\n\t\t\t<p className={styles.description}>\r\n\t\t\t\tК сожалению данная страница отсутствует в нашем интернет магазине\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NotFoundBlock;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Pagination_root__RVPvC\"};"],"sourceRoot":""}